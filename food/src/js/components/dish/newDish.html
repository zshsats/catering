<header title="{one:'新增菜品'}"></header>
<div class="add-btn exit-icon" ng-click="$ctrl.dismiss()">
    <span class="iconfont icon-cuowu"></span>
</div>
<div class="main-body">
    <form name="formAct" novalidate>
        <div class="theme-title">基本信息</div>
        <div class="theme-box">
            <div class="row">
                <div class="col-xs-6">
                    <p class="mt10">菜品名称</p>
                    <div class="input-box">
                        <input type="text" ng-model="$ctrl.newdish.name" class="form-control" name="name" placeholder="菜品名称" required>
                        <span class="input-s iconfont icon-cuowu"></span>
                    </div>
                    <div class="valide mb10" ng-show="formAct.name.$dirty && formAct.name.$invalid">
                        <div ng-show="formAct.name.$error.required">菜品名称不能为空</div>
                    </div>
                </div>
                <div class="col-xs-6">
                    <p class="mt10">所属类别</p>
                    <div class="input-box">
                        <div class="wd">
                            <select class="form-control" ng-model="$ctrl.newdish.category_id">
                                <option value="{{item.id}}" ng-repeat="item in $ctrl.cats">{{item.name}}</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <p class="mt10">单位价格</p>
                <div class="row">
                    <div class="col-xs-4">选择单位</div>
                    <div class="col-xs-4">成本价格</div>
                    <div class="col-xs-4">销售价格</div>

                </div>
                <div class="row">
                    <div class="col-xs-4">
                        <div class="input-box">
                            <div class="wd">
                                <select class="form-control" ng-model="$ctrl.newdish.unit">
                                    <option value="{{u.unit}}" ng-repeat="u in $ctrl.units">{{u.unit}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="input-box">
                            <input type="number" class="form-control"  placeholder="成本价格" ng-model="$ctrl.newdish.standPrice" name="sp" required>
                            <span class="input-s iconfont icon-cuowu"></span>
                        </div>
                        <div class="valide mb10" ng-show="formAct.sp.$dirty && formAct.sp.$invalid">
                            <div ng-show="formAct.sp.$error.required">成本价格不能为空</div>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="input-box">
                            <input type="number" class="form-control"  placeholder="销售价格" ng-model="$ctrl.newdish.salePrice" name="saleprice" required>
                            <span class="input-s iconfont icon-cuowu"></span>
                        </div>
                        <div class="valide mb10" ng-show="formAct.saleprice.$dirty && formAct.saleprice.$invalid">
                            <div ng-show="formAct.saleprice.$error.required">成本价格不能为空</div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="theme-title">菜品介绍</div>
        <div class="theme-box">
            <div class="row">
                <div class="col-xs-6">
                    <p class="mt10">请选择上传菜品图片</p>
                    <div class="clearfix">
                        <upload-img img="$ctrl.newdish.photoUrl" height="233" ></upload-img>
                    </div>
                </div>
                <div class="col-xs-6">
                    <p class="mt10">菜品描述</p>
                    <textarea class="form-control" rows="15" ng-model="$ctrl.newdish.info"></textarea>
                </div>
            </div>
        </div>
    </form>
    <div class="foot-model clearfix">
        <div class="pull-left">
            <button type="button" class="btn btn-default btn-cancle" ng-click="$ctrl.delDish()">删除</button>
        </div>
        <div class="pull-right mr20">
            <button type="button" class="btn btn-default btn-cancle" ng-disabled="formAct.$invalid" ng-click="$ctrl.save()">保存</button>
        </div>
        <div class="pull-right mr20">
            <button type="button" class="btn btn-default btn-cancle" ng-click="$ctrl.dismiss()">取消</button>
        </div>
    </div>
</div>